/*! FingersJS - v1.0.0 - 2017-05-24
 * https://github.com/vitekr/fingers.js
 *
 * Copyright (c) 2017 Vít Rusňák <vit.rusnak@gmail.com>;
 * Licensed under the MIT license */


!function(t,e){"use strict";var i=function t(e){return new t.Instance(e)};i.__extend=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e)for(var i in e)t[i]=e[i]}),t};var n={DIRECTION:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"},GROW:{IN:"in",OUT:"out"},PPCM:30,getVelocity:function(t,e){return Math.abs(e/t)||0},getOrientedVelocity:function(t,e){return e/t||0},getDirection:function(t,e){return Math.abs(t)>=Math.abs(e)?t>0?this.DIRECTION.RIGHT:this.DIRECTION.LEFT:e>0?this.DIRECTION.DOWN:this.DIRECTION.UP},isVertical:function(t){return t===this.DIRECTION.UP||t===this.DIRECTION.DOWN},getAngle:function(t,e){return Math.atan2(t,e)},getDistance:function(t,e){return Math.sqrt(t*t+e*e)},setPPCM:function(t){this.PPCM=Math.round(Math.sqrt(screen.width*screen.width+screen.height*screen.height)/t/2.54),console.log(screen.width+"x"+screen.height+"@"+t+"in; PPCM= "+this.PPCM)}};i.Utils=n;var s=function(){this._cache=[]};s.prototype={_cache:null,isCachedValue:function(t){return void 0!==this._cache[t]},getCachedValue:function(t){return this._cache[t]},setCachedValue:function(t,e){this._cache[t]=e},clearCachedValue:function(t){delete this._cache[t]},clearCache:function(){this._cache=[]},getCachedValueOrUpdate:function(t,e,i){var n=this.getCachedValue(t);return void 0===n&&(n=e.call(i),this.setCachedValue(t,n)),n}},i.CacheArray=s;var r=function(t){this._init(t)};r.FINGER_MAP={},r.prototype={element:null,fingerList:null,fingerCreatedMap:null,gestureList:null,_init:function(t){this.element=t,this.fingerList=[],this.fingerCreatedMap={},this.gestureList=[],this.startListening()},getElement:function(){return this.element},getGestures:function(){return this.gestureList},addGesture:function(t,e){var i=new t(e);return this.gestureList.push(i),i},removeGesture:function(t){t.removeAllHandlers();var e=this.gestureList.indexOf(t);this.gestureList.splice(e,1)},removeAllGestures:function(){for(var t=0,e=this.gestureList.length;t<e;t++)this.gestureList[t].removeAllHandlers();this.gestureList=[]},startListening:function(){if(null===this._stopListeningF){var t=this,e=this._onTouchStart.bind(this),i=this._onTouchMove.bind(this),n=this._onTouchEnd.bind(this),s=this._onTouchCancel.bind(this);this.element.addEventListener("touchstart",e),this.element.addEventListener("touchmove",i),this.element.addEventListener("touchend",n),this.element.addEventListener("touchcancel",s),this._stopListeningF=function(){t.element.removeEventListener("touchstart",e),t.element.removeEventListener("touchmove",i),t.element.removeEventListener("touchend",n),t.element.removeEventListener("touchcancel",s)}}},_stopListeningF:null,stopListening:function(){null!==this._stopListeningF&&(this._removeAllFingers(Date.now()),this._stopListeningF(),this._stopListeningF=null)},_onTouchStart:function(t){for(var e,i=0,n=t.changedTouches.length;i<n;i++)e=t.changedTouches[i],this._createFinger(e.identifier,t.timeStamp,e.pageX,e.pageY,this.getElement().id);t.preventDefault()},_onTouchMove:function(t){for(var e,i=0,n=t.changedTouches.length;i<n;i++)e=t.changedTouches[i],this._updateFingerPosition(e.identifier,t.timeStamp,e.pageX,e.pageY);t.preventDefault()},_onTouchEnd:function(t){for(var e=0,i=t.changedTouches.length;e<i;e++)this._removeFinger(t.changedTouches[e].identifier)},_onTouchCancel:function(t){for(var e=0,i=t.changedTouches.length;e<i;e++){var n=r.FINGER_MAP[t.changedTouches[e].identifier];if(void 0!==n&&-1!==this._getFingerPosition(n)){this._removeAllFingers();break}}},_createFinger:function(t,e,i,n,s){var h;void 0===r.FINGER_MAP[t]?(h=new a(t,e,i,n,s),r.FINGER_MAP[t]=h,this.fingerCreatedMap[t]=h):h=r.FINGER_MAP[t],this.fingerList.push(h);for(var o=0,l=this.gestureList.length;o<l;o++)this.gestureList[o]._onFingerAdded(h,this.fingerList)},_removeFinger:function(t){var e=r.FINGER_MAP[t];void 0!==e?(this.fingerList.splice(this._getFingerPosition(e),1),e._setEndP(Date.now()-10),e._clearHandlerObjects(),delete this.fingerCreatedMap[e.id],delete r.FINGER_MAP[e.id]):console.log("!!!! AJAJAJ, finger undefined")},_removeAllFingers:function(){for(var t=0,e=this.fingerList.length;t<e;t++)this._removeFinger(this.fingerList[t].id)},_updateFingerPosition:function(t,e,i,n){var s=this.fingerCreatedMap[t];void 0!==s&&s._setCurrentP(e,i,n,!1)},_getFingerPosition:function(t){return this.fingerList.indexOf(t)}},i.Instance=r;var a=function(t,e,i,n,r){this.id=t,this.state=a.STATE.ACTIVE,this.target=r,this._handlerList=[],this.startP=new o(e,i,n),this.previousP=new o(e,i,n),this.currentP=new o(e,i,n),this._cacheArray=new s},h=0;a.cacheIndexes={deltaTime:h++,totalTime:h++,deltaX:h++,deltaY:h++,deltaDistance:h++,totalX:h++,totalY:h++,totalDistance:h++,deltaDirection:h++,totalDirection:h++,velocityX:h++,velocityY:h++,velocity:h++,velocityAverage:h++,orientedVelocityX:h++,orientedVelocityY:h++},a.STATE={ACTIVE:"active",REMOVED:"removed"},a.CONSTANTS={inactivityTime:200},a.prototype={id:null,state:null,startP:null,previousP:null,currentP:null,_cacheArray:null,_handlerList:null,_addHandlerObject:function(t){this._handlerList.push(t)},_removeHandlerObject:function(t){var e=this._handlerList.indexOf(t);this._handlerList.splice(e,1)},_clearHandlerObjects:function(){this._handlerList=[]},_setCurrentP:function(t,e,i,n){if(this.getX()!=e||this.getY()!=i||n){this._cacheArray.clearCache(),this.previousP.copy(this.currentP),this.currentP.set(t,e,i);for(var s=0;s<this._handlerList.length;s++)this._handlerList[s]._onFingerUpdate(this)}},_setEndP:function(t){this.state=a.STATE.REMOVED,t-this.getTime()>a.CONSTANTS.inactivityTime&&this._setCurrentP(t,this.getX(),this.getY(),!1);for(var e=this._handlerList.slice(),i=0;i<e.length;i++)e[i]._onFingerRemoved(this)},getTime:function(){return this.currentP.timestamp},getDeltaTime:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.deltaTime,this._getDeltaTime,this)},_getDeltaTime:function(){return this.currentP.timestamp-this.previousP.timestamp},getTotalTime:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.totalTime,this._getTotalTime,this)},_getTotalTime:function(){return this.currentP.timestamp-this.startP.timestamp},getInactivityTime:function(){var t=Date.now()-this.currentP.timestamp;return t>a.CONSTANTS.inactivityTime?t:0},getX:function(){return this.currentP.x},getY:function(){return this.currentP.y},getTarget:function(){return this.target},getDeltaX:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.deltaX,this._getDeltaX,this)},_getDeltaX:function(){return this.currentP.x-this.previousP.x},getDeltaY:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.deltaY,this._getDeltaY,this)},_getDeltaY:function(){return this.currentP.y-this.previousP.y},getDeltaDistance:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.deltaDistance,this._getDeltaDistance,this)},_getDeltaDistance:function(){return n.getDistance(this.getDeltaX(),this.getDeltaY())},getTotalX:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.totalX,this._getTotalX,this)},_getTotalX:function(){return this.currentP.x-this.startP.x},getTotalY:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.totalY,this._getTotalY,this)},_getTotalY:function(){return this.currentP.y-this.startP.y},getDistance:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.totalDistance,this._getDistance,this)},_getDistance:function(){return n.getDistance(this.getTotalX(),this.getTotalY())},getDeltaDirection:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.deltaDirection,this._getDeltaDirection,this)},_getDeltaDirection:function(){return n.getDirection(this.getDeltaX(),this.getDeltaY())},getDirection:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.totalDirection,this._getDirection,this)},_getDirection:function(){return n.getDirection(this.getTotalX(),this.getTotalY())},getVelocityX:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.velocityX,this._getVelocityX,this)},_getVelocityX:function(){return n.getVelocity(this.getDeltaTime(),this.getDeltaX())},getVelocityY:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.velocityY,this._getVelocityY,this)},_getVelocityY:function(){return n.getVelocity(this.getDeltaTime(),this.getDeltaY())},getVelocity:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.velocity,this._getVelocity,this)},_getVelocity:function(){return n.getVelocity(this.getDeltaTime(),this.getDeltaDistance())},getVelocityAverage:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.velocityAverage,this._getVelocity,this)},_getVelocityAverage:function(){return n.getVelocity(this.getTotalTime(),this.getDistance())},getOrientedVelocityX:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.orientedVelocityX,this._getOrientedVelocityX,this)},_getOrientedVelocityX:function(){return n.getOrientedVelocity(this.getDeltaTime(),this.getDeltaX())},getOrientedVelocityY:function(){return this._cacheArray.getCachedValueOrUpdate(a.cacheIndexes.orientedVelocityY,this._getOrientedVelocityY,this)},_getOrientedVelocityY:function(){return n.getOrientedVelocity(this.getDeltaTime(),this.getDeltaY())}},i.Finger=a;var o=function(t,e,i){this.set(t,e,i)};o.prototype={timestamp:null,x:null,y:null,set:function(t,e,i){this.timestamp=t,this.x=e,this.y=i},copy:function(t){this.timestamp=t.timestamp,this.x=t.x,this.y=t.y}},i.Position=o;var l={getFingersAngle:function(t,e){return n.getAngle(e.currentP.x-t.currentP.x,e.currentP.y-t.currentP.y)},getFingersDistance:function(t,e){return n.getDistance(e.currentP.x-t.currentP.x,e.currentP.y-t.currentP.y)},getFingersCenter:function(t,e){return{x:Math.round((t.currentP.x+e.currentP.x)/2),y:Math.round((t.currentP.y+e.currentP.y)/2)}},getMultipleFingersCenter:function(t,e,i,n,s){for(var r={x:0,y:0},a=arguments.length,h=0;h<a;h++)r.x+=arguments[h].currentP.x,r.y+=arguments[h].currentP.y;return r.x=Math.round(r.x/a),r.y=Math.round(r.y/a),r}};i.FingerUtils=l;var c=function(t,e){this.options=i.__extend({},e||{},t||{}),this._handlerList=[],this.listenedFingers=[]};c.EVENT_TYPE={instant:"instant",start:"start",end:"end",move:"move"},c.prototype={options:null,_handlerList:null,isListening:!1,listenedFingers:null,addHandler:function(t){return this._handlerList.push(t),this},removeHandler:function(t){var e=this._handlerList.indexOf(t);return this._handlerList.splice(e,1),this},removeAllHandlers:function(){return this._handlerList=[],this},getHandlers:function(){return this._handlerList},getHandler:function(t){var e=this._handlerList.indexOf(t);return this._handlerList[e]},fire:function(t,e){for(var i=0,n=this._handlerList.length;i<n;i++)this._handlerList[i](t,e,this.listenedFingers)},_onFingerAdded:function(t,e){},_onFingerUpdate:function(t){},_onFingerRemoved:function(t){},_addListenedFingers:function(t,e,i){for(var n=0,s=arguments.length;n<s;n++)this._addListenedFinger(arguments[n])},_addListenedFinger:function(t){this.listenedFingers.push(t),t._addHandlerObject(this),this.isListening||(this.isListening=!0)},_removeListenedFingers:function(t,e,i){for(var n=0,s=arguments.length;n<s;n++)this._removeListenedFinger(arguments[n])},_removeListenedFinger:function(t){t._removeHandlerObject(this);var e=this.listenedFingers.indexOf(t);this.listenedFingers.splice(e,1),0===this.listenedFingers.length&&(this.isListening=!1)},_removeAllListenedFingers:function(){for(var t=0,e=this.listenedFingers.length;t<e;t++)this.listenedFingers[t]._removeHandlerObject(this),this.isListening=!1;this.listenedFingers=[],this.isListening=!1},isListenedFinger:function(t){return this.isListening&&this.getListenedPosition(t)>-1},getListenedPosition:function(t){return this.listenedFingers.indexOf(t)}},i.Gesture=c,i.gesture={};var d=function(t){function e(e){t.call(this,e,s)}var s={nbFingers:1,distanceThreshold:.3};return i.__extend(e.prototype,t.prototype,{_threshold:s.distanceThreshold*n.PPCM,_onFingerAdded:function(e,i){if(!this.isListening&&i.length+this.listenedFingers.length<=this.options.nbFingers)for(var n=0;n<this.options.nbFingers;n++)this._addListenedFinger(i[n]),this.fire(t.EVENT_TYPE.start,null);else this._removeAllListenedFingers()},_onFingerUpdate:function(e){var i=this._threshold;e.getDeltaDistance()>i&&this.fire(t.EVENT_TYPE.move,null)},_onFingerRemoved:function(e){var i=this._threshold;e.getDeltaDistance()>i&&this.fire(t.EVENT_TYPE.end,null),this._removeAllListenedFingers()}}),e}(i.Gesture);i.gesture.Drag=d;var g=function(t){function e(e){t.call(this,e,s),this._onHoldTimeLeftF=this._onHoldTimeLeft.bind(this),this.data={target:"null"}}var s={nbFingers:1,distanceThreshold:1,duration:600};return i.__extend(e.prototype,t.prototype,{timer:null,_threshold:s.distanceThreshold*n.PPCM,_onFingerAdded:function(t,e){if(!this.isListening&&e.length>=this.options.nbFingers){for(var i=0;i<this.options.nbFingers;i++)this._addListenedFinger(e[i]);clearTimeout(this.timer),this.timer=setTimeout(this._onHoldTimeLeftF,this.options.duration),this.data.target=t.getTarget()}this.listenedFingers.length+e.length-this.options.nbFingers>this.options.nbFingers&&this._onHoldCancel()},_onFingerUpdate:function(t){(Math.abs(t.currentP.x-t.startP.x)>this._threshold||Math.abs(t.currentP.y-t.startP.y)>this._threshold)&&this._onHoldCancel();for(var e=0,i=this.listenedFingers.length;e<i;e++)if(this.listenedFingers[e].getDistance()>this._threshold){this._onHoldCancel();break}},_onFingerRemoved:function(t){this._onHoldCancel()},_onHoldTimeLeftF:null,_onHoldTimeLeft:function(){this.fire(t.EVENT_TYPE.instant,this.data)},_onHoldCancel:function(){this._removeAllListenedFingers(),clearTimeout(this.timer)}}),e}(i.Gesture);i.gesture.Hold=g;var u=function(t){function e(e){t.call(this,e,s),this.data={grow:null,scale:1,target:null}}var s={pinchInDetect:.6,pinchOutDetect:1.4};return i.__extend(e.prototype,t.prototype,{_startDistance:0,data:null,_onFingerAdded:function(t,e){!this.isListening&&e.length>=2&&(this._addListenedFingers(e[0],e[1]),this._startDistance=this._getFingersDistance(),this.data.target=pFinger.getTarget())},_onFingerUpdate:function(t){},_onFingerRemoved:function(e){var i=this._getFingersDistance()/this._startDistance;(i<=this.options.pinchInDetect||i>=this.options.pinchOutDetect)&&(this.data.grow=i>1?n.GROW.OUT:n.GROW.IN,this.data.scale=i,this.fire(t.EVENT_TYPE.instant,this.data)),this._removeAllListenedFingers()},_getFingersDistance:function(){var t=this.listenedFingers[0].currentP,e=this.listenedFingers[1].currentP;return i.Utils.getDistance(e.x-t.x,e.y-t.y)}}),e}(i.Gesture);i.gesture.Pinch=u;var _=function(t){function e(e){t.call(this,e,n)}var n={nbMaxFingers:50};return i.__extend(e.prototype,t.prototype,{_onFingerAdded:function(e,i){this.listenedFingers.length<this.options.nbMaxFingers&&(this._addListenedFinger(e),this.fire(t.EVENT_TYPE.start,e))},_onFingerUpdate:function(e){this.fire(t.EVENT_TYPE.move,e)},_onFingerRemoved:function(e){this.fire(t.EVENT_TYPE.end,e),this._removeListenedFinger(e)}}),e}(i.Gesture);i.gesture.Raw=_;var f=function(t){function e(e){t.call(this,e,n),this.data={direction:null,velocity:0,target:null}}var n={nbFingers:1,swipeVelocityX:.6,swipeVelocityY:.6};return i.__extend(e.prototype,t.prototype,{data:null,_onFingerAdded:function(t,e){if(!this.isListening&&e.length>=this.options.nbFingers)for(var i=0;i<this.options.nbFingers;i++)this._addListenedFinger(e[i]),this.data.target=t.getTarget()},_onFingerUpdate:function(t){},_onFingerRemoved:function(e){var i=!0,n=this.listenedFingers.length;if(n>0){for(var s=this.listenedFingers[0].getDeltaDirection(),r=0,a=0,h=0;h<n;h++)i=i&&s===this.listenedFingers[h].getDeltaDirection(),r=Math.max(r,this.listenedFingers[h].getVelocityX()),a=Math.max(a,this.listenedFingers[h].getVelocityY());i&&(r>this.options.swipeVelocityX||a>this.options.swipeVelocityY)&&(this.data.direction=s,this.data.velocity=r>this.options.swipeVelocityX?r:a,this.fire(t.EVENT_TYPE.instant,this.data))}this._removeAllListenedFingers()}}),e}(i.Gesture);i.gesture.Swipe=f;var p=function(t){function e(e){t.call(this,e,s),this.data={nbTap:0,lastTapTimestamp:0,tapPosition:[0,0],target:null}}var s={nbFingers:1,nbTapMin:2,nbTapMax:2,tapInterval:100,distanceThreshold:.2};return i.__extend(e.prototype,t.prototype,{data:null,_threshold:s.distanceThreshold*n.PPCM,_onFingerAdded:function(t,e){if(!this.isListening&&e.length>=this.options.nbFingers&&this.listenedFingers.length+e.length<=this.options.nbFingers){t.getTime()-this.data.lastTapTimestamp>this.options.tapInterval&&this._clearTap();for(var i=0;i<this.options.nbFingers;i++)this._addListenedFinger(e[i]);this.listenedFingers.length+e.length-this.options.nbFingers>this.options.nbFingers&&this._removeAllListenedFingers()}},_onFingerUpdate:function(t){t.currentP.timestamp-t.startP.timestamp>this.options.tapInterval&&this._removeAllListenedFingers()},_onFingerRemoved:function(e){this._removeAllListenedFingers(),(e.getTotalTime()<this.options.tapInterval||e.getDistance()<this.options.distanceThreshold*n.PPCM)&&(this.data.lastTapTimestamp=e.getTime(),this.data.tapPosition=[e.getX(),e.getY()],this.data.target=e.getTarget(),++this.data.nbTap>=this.options.nbTapMin&&this.data.nbTap<=this.options.nbTapMax?this.fire(t.EVENT_TYPE.instant,this.data):this._removeAllListenedFingers())},_clearTap:function(){this.data.lastTapTimestamp=0,this.data.nbTap=0}}),e}(i.Gesture);i.gesture.Tap=p;var F=function(t){function e(e){t.call(this,e,s),this.data={totalRotation:0,deltaRotation:0,totalDistance:0,deltaDistance:0,totalScale:1,deltaScale:1,scale:!0,rotate:!0,target:null}}var s={distanceThreshold:5,angleThreshold:.13};return i.__extend(e.prototype,t.prototype,{_startAngle:0,_lastAngle:0,_startDistance:0,_lastDistance:0,_threshold:1,data:null,_onFingerAdded:function(e,i){this._threshold=this.options.distanceThreshold*n.PPCM,this.data.scale=!0,this.data.rotate=!0,this.isListening||2!=i.length||this.listenedFingers.length+i.length!==2||(this._addListenedFingers(i[0],i[1]),this._lastAngle=this._getFingersAngle(),this._startAngle=this._lastAngle,this._lastDistance=this._getFingersDistance(),this._startDistance=this._lastDistance,this.data.target=i[0].getTarget(),this.fire(t.EVENT_TYPE.start,this.data))},_onFingerUpdate:function(e){var i=this._getFingersAngle();this.data.totalRotation=this._startAngle-i,this.data.deltaRotation=this._lastAngle-i,this._lastAngle=i;var n=this._getFingersDistance();this.data.totalScale=n/this._startDistance,this.data.deltaScale=n/this._lastDistance,this.data.totalDistance=this._startDistance-n,this.data.deltaDistance=this._lastDistance-n,this._lastDistance=n,this.data.rotate&&Math.abs(this.data.totalRotation)>this.options.angleThreshold&&(this.data.scale=!1),this.data.scale&&Math.abs(this.data.totalDistance)>this._threshold&&(this.data.rotate=!1),(Math.abs(this.data.totalRotation)>this.options.angleThreshold||Math.abs(this.data.totalDistance)>this._threshold)&&this.fire(t.EVENT_TYPE.move,this.data)},_onFingerRemoved:function(e){this._removeAllListenedFingers(),this.fire(t.EVENT_TYPE.end,this.data)},_getFingersAngle:function(){return i.FingerUtils.getFingersAngle(this.listenedFingers[0],this.listenedFingers[1])},_getFingersDistance:function(){return i.FingerUtils.getFingersDistance(this.listenedFingers[0],this.listenedFingers[1])}}),e}(i.Gesture);i.gesture.Transform=F;var T=function(t){function e(e){t.call(this,e,n),this.data={totalRotation:0,deltaRotation:0,target:null}}var n={angleThreshold:.02};return i.__extend(e.prototype,t.prototype,{_startAngle:0,_lastAngle:0,data:null,_onFingerAdded:function(e,i){this.isListening||2!=i.length||(this._addListenedFingers(i[0],i[1]),this._lastAngle=this._getFingersAngle(),this._startAngle=this._lastAngle,this.data.totalRotation=0,this.data.deltaRotation=0,this.data.target=i[0].getTarget(),this.fire(t.EVENT_TYPE.start,this.data))},_onFingerUpdate:function(e){var i=this._getFingersAngle();this.data.totalRotation=this._startAngle-i,this.data.deltaRotation=this._lastAngle-i,this._lastAngle=i,Math.abs(this.data.deltaRotation)>this.options.angleThreshold&&this.fire(t.EVENT_TYPE.move,this.data)},_onFingerRemoved:function(e){this._removeAllListenedFingers(),this.fire(t.EVENT_TYPE.end,this.data)},_getFingersAngle:function(){return i.FingerUtils.getFingersAngle(this.listenedFingers[0],this.listenedFingers[1])}}),e}(i.Gesture);i.gesture.Rotate=T;var v=function(t){function e(e){t.call(this,e,s),this.data={totalDistance:0,deltaDistance:0,totalScale:1,deltaScale:1,target:null}}var s={distanceThreshold:2.5};return i.__extend(e.prototype,t.prototype,{_startDistance:0,_lastDistance:0,_threshold:0,data:null,_onFingerAdded:function(e,i){!this.isListening&&i.length>=2&&(this._addListenedFingers(i[0],i[1]),this._lastDistance=this._getFingersDistance(),this._startDistance=this._lastDistance,this.data.target=i[0].getTarget(),this.fire(t.EVENT_TYPE.start,this.data))},_onFingerUpdate:function(e){var i=this._getFingersDistance();this.data.totalScale=i/this._startDistance,this.data.deltaScale=i/this._lastDistance,this.data.totalDistance=this._startDistance-i,this.data.deltaDistance=this._lastDistance-i,this._lastDistance=i,this._threshold=this.options.distanceThreshold*n.PPCM,Math.abs(this.data.totalDistance)>this._threshold&&this.fire(t.EVENT_TYPE.move,this.data)},_onFingerRemoved:function(e){this._removeAllListenedFingers(),this.fire(t.EVENT_TYPE.end,this.data)},_getFingersDistance:function(){return i.FingerUtils.getFingersDistance(this.listenedFingers[0],this.listenedFingers[1])}}),e}(i.Gesture);i.gesture.Scale=v,"function"==typeof define&&define.amd?define(function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:t.Fingers=i}(window);
//# sourceMappingURL=fingers.min.js.map